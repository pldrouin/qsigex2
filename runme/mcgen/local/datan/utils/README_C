*******
   C
*******

1) untar srcdatan.tar

2) untar lib file for the OS (linux or solaris)

3) Modify the following make files:

makedlib.sh
===========

Use:

DLIB=libdatsrc.a
SLIB=libdatan.so
SRCDIR=../datsrc
INCDIR=../include
LIBDIR=../../lib

rm -f $LIBDIR/$DLIB
ar avu $LIBDIR/$DLIB *.o
ar xv $LIBDIR/libgrsrc.a
gcc -shared -Wl,-soname,$SLIB.1 -o $SLIB.1.1 *.o
ar t $LIBDIR/libgrsrc.a | while read X
do
  rm -f $X
done
mv -f $SLIB.1.1 ../../lib/.

makefile.lib
=============

HDRS      = ../include
DLIB      = libdatsrc.a
SLIB      = libdatan.so

MAKEFILE  = Makefile

VPATH = .:../datsrc

$(DLIB):     $(OBJS)
	    ar -rvu $(DLIB) $(OBJS)
	    pwd
	    mv -f $(DLIB) ../../lib/.

$(SLIB).1.1:     $(OBJS)
	    ar xv ../../lib/libgrsrc.a
	    gcc -shared -Wl,-soname,$(SLIB).1 -o $(SLIB).1.1 $(OBJS) $(GOBJS)
	    mv -f $(SLIB).1.1 ../../lib/.

makefile.exe
=============

Use

HDRS      = ../include
LIBS      = ../../lib/libdatsrc.a ../../lib/libgrsrc.a
vpath %.f .:../exasrc:../solsrc

%.o: %.c
	$(CC) -c $(CFLAGS) -I$(HDRS) $<

%: %.o
	$(CC) $@.o $(LIBS) -L/usr/X11R6/lib -lXm -lXmu -lXt -lX11 \
         -lm -lc -lrt -o $@

%: %.c
	$(CC) -c $(CFLAGS) -I$(HDRS) $<
	$(CC) $@.o $(LIBS) -L/usr/X11R6/lib -lXm -lXmu -lXt -lX11 \
         -lm -lc -lrt -o $@

clean:
	rm -f $(PROGRAMS)
	cd ../exasrc ; rm -f $(PROGRAMS) ; cd ../utils
	cd ../solsrc ; rm -f $(PROGRAMS) ; cd ../utils
	rm -f *.o

4) Compile:

> cd /home/alainb/brandt/linux_libc6/usr/local/datan/utils
> makedlib.sh
> make -f makefile.lib
> make -f makefile.exe all

5) To delete ALL executables

> make -f makefile.exe clean


